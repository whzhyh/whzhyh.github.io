<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>403. Frog Jump | Keep Walking</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">403. Frog Jump</h1><a id="logo" href="/.">Keep Walking</a><p class="description">再出发</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">403. Frog Jump</h1><div class="post-meta">Oct 4, 2016<span> | </span><span class="category"><a href="/categories/leetcode/">leetcode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="leetcode/leetcode-403-frog-jump/" href="/leetcode/leetcode-403-frog-jump/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>A frog is crossing a river. The river is divided into x units and at each unit there may or may not exist a stone. The frog can jump on a stone, but it must not jump into the water.</p>
<p>Given a list of stones’ positions (in units) in sorted ascending order, determine if the frog is able to cross the river by landing on the last stone. Initially, the frog is on the first stone and assume the first jump must be 1 unit.</p>
<p>If the frog’s last jump was k units, then its next jump must be either k - 1, k, or k + 1 units. Note that the frog can only jump in the forward direction.</p>
<p><strong>Note:</strong></p>
<ul>
<li>The number of stones is ≥ 2 and is &lt; 1,100.</li>
<li>Each stone’s position will be a non-negative integer &lt; 231.</li>
<li>The first stone’s position is always 0.</li>
</ul>
<p><strong>Example 1:</strong><br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">12</span>,<span class="number">17</span>]</div><div class="line"></div><div class="line">There are a total <span class="keyword">of</span> <span class="number">8</span> stones.</div><div class="line">The <span class="keyword">first</span> stone <span class="keyword">at</span> <span class="keyword">the</span> <span class="number">0</span>th unit, <span class="keyword">second</span> stone <span class="keyword">at</span> <span class="keyword">the</span> <span class="number">1</span>st unit,</div><div class="line"><span class="keyword">third</span> stone <span class="keyword">at</span> <span class="keyword">the</span> <span class="number">3</span>rd unit, <span class="keyword">and</span> so <span class="keyword">on</span>...</div><div class="line">The <span class="keyword">last</span> stone <span class="keyword">at</span> <span class="keyword">the</span> <span class="number">17</span>th unit.</div><div class="line"></div><div class="line">Return <span class="literal">true</span>. The frog can jump <span class="keyword">to</span> <span class="keyword">the</span> <span class="keyword">last</span> stone <span class="keyword">by</span> jumping</div><div class="line"><span class="number">1</span> unit <span class="keyword">to</span> <span class="keyword">the</span> <span class="number">2</span>nd stone, <span class="keyword">then</span> <span class="number">2</span> units <span class="keyword">to</span> <span class="keyword">the</span> <span class="number">3</span>rd stone, <span class="keyword">then</span></div><div class="line"><span class="number">2</span> units <span class="keyword">to</span> <span class="keyword">the</span> <span class="number">4</span>th stone, <span class="keyword">then</span> <span class="number">3</span> units <span class="keyword">to</span> <span class="keyword">the</span> <span class="number">6</span>th stone,</div><div class="line"><span class="number">4</span> units <span class="keyword">to</span> <span class="keyword">the</span> <span class="number">7</span>th stone, <span class="keyword">and</span> <span class="number">5</span> units <span class="keyword">to</span> <span class="keyword">the</span> <span class="number">8</span>th stone.</div></pre></td></tr></table></figure></p>
<p><strong>Example 2:</strong><br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">11</span>]</div><div class="line"></div><div class="line">Return false. There is no way to jump to the last stone as</div><div class="line">the gap between the <span class="number">5</span>th and <span class="number">6</span>th stone is too large.</div></pre></td></tr></table></figure></p>
<hr>
<p>自己的做法，时间复杂度O($n^2$), 速度慢到令人发指了，不过是自己写出来，还是保留一下吧。</p>
<ol>
<li>dp[i][j] 指通过跳j units, 能不能到达第i块石头</li>
<li><code>dp[i][j] = dp[pre][j] | dp[pre][j - 1] | dp[pre][j + 1]</code>， 其中j的范围是[1, i], 最小值是1很好理解。最大值i是每次都按最长的距离跳。从第i - 1块石头，跳到第i块石头，最长的距离为i.</li>
<li><code>dp[0][0] = true</code>, 因为本来就在第一块石头上。</li>
<li>遍历dp[n - 1][j]，有值为true的，就说明能够成功。</li>
</ol>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="built_in">boolean</span> canCross(<span class="built_in">int</span>[] stones) &#123;</div><div class="line">    <span class="keyword">if</span> (stones == <span class="keyword">null</span> || stones.length &lt;= <span class="number">1</span>)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    <span class="built_in">int</span> n = stones.length;</div><div class="line">    <span class="built_in">boolean</span>[][] dp = <span class="keyword">new</span> <span class="built_in">boolean</span>[n][n];</div><div class="line">    <span class="keyword">HashMap</span>&lt;Integer, Integer&gt; <span class="built_in">map</span> = <span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;&gt;();</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">        <span class="built_in">map</span>.put(stones[i], i);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="built_in">map</span>.containsKey(stones[i] - j)) &#123;</div><div class="line">                <span class="built_in">int</span> pre = <span class="built_in">map</span>.<span class="built_in">get</span>(stones[i] - j);</div><div class="line">                dp[i][j] = dp[pre][j] | dp[pre][j - <span class="number">1</span>];</div><div class="line">                <span class="keyword">if</span> (j + <span class="number">1</span> &lt; i)</div><div class="line">                    dp[i][j] |= dp[pre][j + <span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">        <span class="keyword">if</span> (dp[n - <span class="number">1</span>][j] == <span class="keyword">true</span>)</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://hongzheng.me/leetcode/leetcode-403-frog-jump/" data-id="ciu7rweg2002z9conmq75au8d" class="article-share-link">Share</a><div class="tags"><a href="/tags/leetcode/">leetcode</a></div><div class="post-nav"><a href="/leetcode/leetcode-201-bitwise-and-of-numbers-range/" class="pre">201. Bitwise AND of Numbers Range</a><a href="/leetcode/leetcode-356-line-reflection/" class="next">356. Line Reflection</a></div><div id="disqus_thread"><script>var disqus_shortname = 'hongzheng';
var disqus_identifier = 'leetcode/leetcode-403-frog-jump/';
var disqus_title = '403. Frog Jump';
var disqus_url = 'http://hongzheng.me/leetcode/leetcode-403-frog-jump/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//hongzheng.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://hongzheng.me"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/">leetcode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lintcode/">lintcode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/政治与社会/">政治与社会</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/Interview/" style="font-size: 15px;">Interview</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/lintcode/" style="font-size: 15px;">lintcode</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-357-count-numbers-with-unique-digits/">357. Count Numbers with Unique Digits</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-362-design-hit-counter/">362. Design Hit Counter</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-369-plus-one-linked-list/">369. Plus One Linked List</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-370-range-addition/">370. Range Addition</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-281-zigzag-iterator/">281. Zigzag Iterator</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-249-group-shifted-strings/">249. Group Shifted Strings</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-295-find-median-from-data-stream/">295. Find Median from Data Stream</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-397-integer-replacement/">397. Integer Replacement</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-396-rotate-function/">396. Rotate Function</a></li><li class="post-list-item"><a class="post-list-link" href="/leetcode/leetcode-406-queue-reconstruction-by-height/">406. Queue Reconstruction by Height</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//hongzheng.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Keep Walking.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-85108926-1','auto');ga('send','pageview');
</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>